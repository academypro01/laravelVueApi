(function(){"use strict";var e={817:function(e,t,n){var o=n(9242),s=n(3396);function r(e,t,n,o,r,a){const i=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i)])}var a={name:"App"},i=n(89);const l=(0,i.Z)(a,[["render",r]]);var c=l,u=n(678);const p={class:"mt-4"},d=(0,s._)("h1",{class:"text-center"},"Laravel-Vue Api Test!",-1),h={id:"nav",class:"flex text-center"},m=(0,s._)("hr",null,null,-1),g={key:0};function f(e,t,n,o,r,a){return(0,s.wg)(),(0,s.iD)("div",p,[d,(0,s._)("div",h,[(0,s._)("a",{class:"m-4",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...e)=>a.register&&a.register(...e))},"Register"),(0,s._)("a",{class:"m-4",style:{cursor:"pointer"},onClick:t[1]||(t[1]=(...e)=>a.login&&a.login(...e))},"Login")]),m,r.flag?((0,s.wg)(),(0,s.iD)("div",g,[((0,s.wg)(),(0,s.j4)((0,s.LL)(r.selectedComponent)))])):(0,s.kq)("",!0)])}const w={class:"m-2 p-3"},b=(0,s._)("h2",null,"Register Form:",-1),v={class:"form-group"},k=(0,s._)("label",{for:"name"},"Name:",-1),_={class:"form-group"},y=(0,s._)("label",{for:"email"},"Email:",-1),P={class:"form-group"},C=(0,s._)("label",{for:"password"},"Password:",-1),x={class:"form-group"};function D(e,t,n,r,a,i){const l=(0,s.up)("alert-message-component");return(0,s.wg)(),(0,s.iD)("div",w,[a.alertFlag?((0,s.wg)(),(0,s.j4)(l,{key:0,message:a.alertMessage},null,8,["message"])):(0,s.kq)("",!0),b,(0,s._)("form",null,[(0,s._)("div",v,[k,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.signupData.name=e),type:"text",name:"name",id:"name",class:"form-control",placeholder:"Enter your name",required:""},null,512),[[o.nr,a.signupData.name]])]),(0,s._)("div",_,[y,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.signupData.email=e),type:"email",name:"email",id:"email",class:"form-control",placeholder:"Enter your email",required:""},null,512),[[o.nr,a.signupData.email]])]),(0,s._)("div",P,[C,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>a.signupData.password=e),type:"password",name:"password",id:"password",class:"form-control",placeholder:"Enter your password"},null,512),[[o.nr,a.signupData.password]])]),(0,s._)("div",x,[(0,s._)("input",{type:"button",value:"Register",class:"form-control btn btn-success mt-2",onClick:t[3]||(t[3]=(...e)=>i.userSignup&&i.userSignup(...e))})])])])}var T=n(7139);const U={class:"alert alert-info"};function A(e,t,n,o,r,a){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",U,[(0,s._)("b",null,(0,T.zw)(n.message),1)])])}var O={name:"AlertMessageComponent",props:["message"]};const j=(0,i.Z)(O,[["render",A]]);var M=j,E={name:"RegisterComponent",data(){return{signupData:{name:"",email:"",password:""},alertFlag:!1,alertMessage:""}},components:{alertMessageComponent:M},methods:{userSignup(){this.axios.post("register",{name:this.signupData.name,email:this.signupData.email,password:this.signupData.password},{Accept:"application/json","Content-Type":"application/json"}).then((()=>{this.alertFlag=!0,this.alertMessage="you are registered successfully"})).catch((()=>{this.alertFlag=!0,this.alertMessage="Error, please try again later"}))}}};const $=(0,i.Z)(E,[["render",D]]);var F=$;const L={class:"m-2 p-3"},S=(0,s._)("h2",null,"Login Form:",-1),V={class:"form-group"},Z=(0,s._)("label",{for:"email"},"Email:",-1),z={class:"form-group"},R=(0,s._)("label",{for:"password"},"Password:",-1),q={class:"form-group"};function B(e,t,n,r,a,i){const l=(0,s.up)("alert-message-component");return(0,s.wg)(),(0,s.iD)("div",L,[a.alertFlag?((0,s.wg)(),(0,s.j4)(l,{key:0,message:a.alertMessage},null,8,["message"])):(0,s.kq)("",!0),S,(0,s._)("form",null,[(0,s._)("div",V,[Z,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.email=e),type:"email",name:"email",id:"email",class:"form-control",placeholder:"Enter your email",required:""},null,512),[[o.nr,a.email]])]),(0,s._)("div",z,[R,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),type:"password",name:"password",id:"password",class:"form-control",placeholder:"Enter your password"},null,512),[[o.nr,a.password]])]),(0,s._)("div",q,[(0,s._)("input",{type:"button",value:"Login",onClick:t[2]||(t[2]=(...e)=>i.signinUser&&i.signinUser(...e)),class:"form-control btn btn-success mt-2"})])])])}var W={name:"LoginComponent",data(){return{email:"",password:"",alertFlag:!1,alertMessage:""}},components:{AlertMessageComponent:M,alertMessageComponent:M},methods:{signinUser(){this.axios.post("login",{email:this.email,password:this.password},{Accept:"application/json","Content-Type":"application/json"}).then((e=>{this.setCookie("token",e.data.data.token),this.setCookie("name",e.data.data.name),this.setCookie("email",e.data.data.email),this.$router.push("/home")})).catch((e=>{this.alertFlag=!0,this.alertMessage="Username or Password is incorrect.",console.log(e)}))},setCookie(e,t,n=1){const o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);let s="expires="+o.toUTCString();document.cookie=e+"="+t+";"+s+";path=/"}}};const H=(0,i.Z)(W,[["render",B]]);var N=H,I={name:"IndexComponent",data(){return{flag:!1,selectedComponent:""}},methods:{register(){this.flag=!0,this.selectedComponent=F},login(){this.flag=!0,this.selectedComponent=N}}};const K=(0,i.Z)(I,[["render",f]]);var Y=K;const G={class:"container"},J=(0,s._)("h3",{class:"text-center"},"Welcome to your panel, majid.",-1),Q=(0,s._)("hr",null,null,-1),X=(0,s.Uk)("Create"),ee=(0,s._)("hr",null,null,-1);function te(e,t,n,o,r,a){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",G,[J,Q,(0,s._)("button",{type:"button",class:"btn btn-danger ml-2",onClick:t[0]||(t[0]=(...e)=>a.logoutUser&&a.logoutUser(...e))},"logout"),(0,s.Wm)(i,{to:"/create",type:"button",class:"btn btn-primary m-2"},{default:(0,s.w5)((()=>[X])),_:1}),ee,((0,s.wg)(),(0,s.j4)((0,s.LL)(r.selectedComponent)))])}const ne={class:"container"},oe={class:"card-header"},se={class:"card-body"},re=["value"],ae={class:"card-title"},ie=(0,s._)("hr",null,null,-1);function le(e,t,n,o,r,a){const i=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",ne,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.posts,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"card text-white bg-dark mb-3",style:{"max-width":"100%"}},[(0,s._)("div",oe,"Post Author: "+(0,T.zw)(e.user.name),1),(0,s._)("div",se,[(0,s._)("input",{type:"hidden",name:"post_id",value:e.id},null,8,re),(0,s.Wm)(i,{to:"/show/"+e.id},{default:(0,s.w5)((()=>[(0,s._)("h5",ae,(0,T.zw)(e.title),1)])),_:2},1032,["to"])])])))),128)),ie,(0,s._)("button",{type:"button",class:"btn btn-info m-2",onClick:t[0]||(t[0]=(...e)=>a.previousPage&&a.previousPage(...e))},"Previous"),(0,s._)("button",{type:"button",class:"btn btn-info m-2",onClick:t[1]||(t[1]=(...e)=>a.nextPage&&a.nextPage(...e))},"Next")])}var ce={name:"PostsListComponent",data(){return{posts:[],cPage:1,totalPage:1}},methods:{getToken(e="token"){let t=e+"=",n="",o=document.cookie.split(";");for(let s=0;s<o.length;s++){let e=o[s];while(" "==e.charAt(0))e=e.substring(1);0==e.indexOf(t)&&(n=e.substring(t.length,e.length))}return n},getPosts(){let e=this.getToken();const t={headers:{Authorization:`Bearer ${e}`}};this.axios.get(`post?page=${this.cPage}`,t).then((e=>{this.posts=e.data.data,this.totalPage=e.data.meta.last_page})).catch((e=>{console.log(e)}))},previousPage(){let e=this.cPage<=1?1:this.cPage-1;this.cPage=e,this.getPosts()},nextPage(){let e=this.cPage>=this.totalPage?this.totalPage:this.cPage+1;this.cPage=e,this.getPosts()}},created(){this.getPosts()}};const ue=(0,i.Z)(ce,[["render",le]]);var pe=ue,de={name:"HomeComponent",data(){return{selectedComponent:pe}},components:[pe],methods:{setCookie(e,t,n=1){const o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);let s="expires="+o.toUTCString();document.cookie=e+"="+t+";"+s+";path=/"},getCookie(e="token"){let t=e+"=",n=document.cookie.split(";");for(let o=0;o<n.length;o++){let e=n[o];while(" "==e.charAt(0))e=e.substring(1);if(0==e.indexOf(t))return e.substring(t.length,e.length)}return""},checkToken(){let e=this.getCookie();return""!=e},logoutUser(){this.setCookie("token",null,-1),this.setCookie("email",null,-1),this.setCookie("name",null,-1),document.cookie.split(";").forEach((function(e){document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/")})),this.$router.push("/")}},beforeRouteEnter(e,t,n){function o(e="token"){let t=e+"=",n=document.cookie.split(";");for(let o=0;o<n.length;o++){let e=n[o];while(" "==e.charAt(0))e=e.substring(1);if(0==e.indexOf(t))return e.substring(t.length,e.length)}return""}function s(){let e=o();return""!=e}let r=s();r?n():n(!1)}};const he=(0,i.Z)(de,[["render",te]]);var me=he;const ge={class:"container"},fe=(0,s._)("h3",null,"Create New Post:",-1),we={class:"form-group"},be=(0,s._)("label",{for:"title"},"Post title:",-1),ve={class:"form-group"},ke=(0,s._)("label",{for:"description"},"Post Description",-1),_e={class:"form-group"};function ye(e,t,n,r,a,i){return(0,s.wg)(),(0,s.iD)("div",ge,[fe,(0,s._)("form",null,[(0,s._)("div",we,[be,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.title=e),type:"text",name:"title",placeholder:"Enter Post Title",id:"title",class:"form-control"},null,512),[[o.nr,a.title]])]),(0,s._)("div",ve,[ke,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.description=e),name:"description",placeholder:"Enter Post Description",id:"description",cols:"30",rows:"10",class:"form-control"},null,512),[[o.nr,a.description]])]),(0,s._)("div",_e,[(0,s._)("input",{type:"button",value:"Create Post",class:"btn btn-primary mt-2 form-control",onClick:t[2]||(t[2]=(...e)=>i.createPost&&i.createPost(...e))})])])])}var Pe={name:"CreatePostComponent",data(){return{title:"",description:""}},methods:{getToken(e="token"){let t=e+"=",n="",o=document.cookie.split(";");for(let s=0;s<o.length;s++){let e=o[s];while(" "==e.charAt(0))e=e.substring(1);0==e.indexOf(t)&&(n=e.substring(t.length,e.length))}return n},createPost(){let e=this.getToken();this.axios.post("post",{title:this.title,description:this.description},{headers:{Authorization:`Bearer ${e}`}}).then((()=>{this.$router.push("/home")})).catch((e=>{console.log(e)}))}},beforeRouteEnter(e,t,n){function o(e="token"){let t=e+"=",n=document.cookie.split(";");for(let o=0;o<n.length;o++){let e=n[o];while(" "==e.charAt(0))e=e.substring(1);if(0==e.indexOf(t))return e.substring(t.length,e.length)}return""}function s(){let e=o();return""!=e}let r=s();r?n():n(!1)}};const Ce=(0,i.Z)(Pe,[["render",ye]]);var xe=Ce;const De={class:"container"},Te=(0,s._)("h2",null,"Update Post",-1),Ue={class:"form-group"},Ae=(0,s._)("label",{for:"title"},"Post Title:",-1),Oe={class:"form-group"},je=(0,s._)("label",{for:"description"},"Post Description:",-1),Me=(0,s._)("hr",null,null,-1),Ee={key:0},$e=(0,s._)("hr",null,null,-1);function Fe(e,t,n,r,a,i){const l=(0,s.up)("alert-message-component");return(0,s.wg)(),(0,s.iD)("div",De,[Te,(0,s._)("div",Ue,[Ae,(0,s.wy)((0,s._)("input",{type:"text",name:"title","onUpdate:modelValue":t[0]||(t[0]=e=>a.title=e),id:"title",class:"form-control"},null,512),[[o.nr,a.title]])]),(0,s._)("div",Oe,[je,(0,s.wy)((0,s._)("textarea",{name:"description","onUpdate:modelValue":t[1]||(t[1]=e=>a.description=e),id:"description",cols:"30",rows:"10",class:"form-control"},null,512),[[o.nr,a.description]])]),Me,(0,s._)("button",{type:"button",class:"btn btn-warning m-2",onClick:t[2]||(t[2]=(...e)=>i.canclePost&&i.canclePost(...e))},"Cancle"),(0,s._)("button",{type:"button",class:"btn btn-info m-2",onClick:t[3]||(t[3]=(...e)=>i.updatePost&&i.updatePost(...e))},"Update"),(0,s._)("button",{type:"button",class:"btn btn-danger m-2",onClick:t[4]||(t[4]=(...e)=>i.deletePost&&i.deletePost(...e))},"Delete"),a.alertFlag?((0,s.wg)(),(0,s.iD)("div",Ee,[$e,(0,s.Wm)(l,{message:a.alertMessage},null,8,["message"])])):(0,s.kq)("",!0)])}var Le={name:"ShowPostComponent",data(){return{id:this.$route.params.id,post:[],title:"",description:"",alertFlag:!1,alertMessage:""}},components:{alertMessageComponent:M},methods:{getToken(e="token"){let t=e+"=",n="",o=document.cookie.split(";");for(let s=0;s<o.length;s++){let e=o[s];while(" "==e.charAt(0))e=e.substring(1);0==e.indexOf(t)&&(n=e.substring(t.length,e.length))}return n},getPost(){let e=this.getToken();const t={headers:{Authorization:`Bearer ${e}`}};this.axios.get(`post/${this.id}`,t).then((e=>{this.post=e.data.data,this.title=this.post.title,this.description=this.post.description})).catch((e=>{console.log(e)}))},canclePost(){this.$router.push("/home")},updatePost(){let e=this.getToken();const t={headers:{Authorization:`Bearer ${e}`,Accept:"application/json"}};this.axios.put(`post/${this.id}`,{title:this.title,description:this.description},t).then((e=>{let t=e.data.data;void 0!=t?(this.alertFlag=!0,this.alertMessage=t.error):this.$router.push("/home")})).catch((e=>{console.log(e)}))},deletePost(){let e=this.getToken();const t={headers:{Authorization:`Bearer ${e}`,Accept:"application/json"}};this.axios.delete(`post/${this.id}`,t).then((e=>{let t=e.data.data;"deleted"in t&&"true"==t.deleted?this.$router.push("/home"):(this.alertFlag=!0,this.alertMessage=t.error)})).catch((e=>{console.log(e)}))}},beforeRouteEnter(e,t,n){function o(e="token"){let t=e+"=",n=document.cookie.split(";");for(let o=0;o<n.length;o++){let e=n[o];while(" "==e.charAt(0))e=e.substring(1);if(0==e.indexOf(t))return e.substring(t.length,e.length)}return""}function s(){let e=o();return""!=e}let r=s();r?n():n(!1)},created(){this.getPost()}};const Se=(0,i.Z)(Le,[["render",Fe]]);var Ve=Se;const Ze=[{path:"/",name:"IndexComponent",component:Y},{path:"/home",name:"HomeComponent",component:me},{path:"/create",name:"CreatePostComponent",component:xe},{path:"/show/:id",name:"ShowPostComponent",component:Ve}],ze=(0,u.p7)({history:(0,u.PO)(),routes:Ze});var Re=ze,qe=n(6265),Be=n.n(qe),We=n(6423),He=n(8533),Ne=n.n(He);Be().defaults.baseURL="http://localhost:8000/api/v1/",Be().defaults.headers.get.Accept="application/json",Be().defaults.headers.get["Content-Type"]="application/json",(0,o.ri)(c).use(We.Z,Be()).use(Ne()).use(Re).mount("#app")}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var r=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,o,s,r){if(!o){var a=1/0;for(u=0;u<e.length;u++){o=e[u][0],s=e[u][1],r=e[u][2];for(var i=!0,l=0;l<o.length;l++)(!1&r||a>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(i=!1,r<a&&(a=r));if(i){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[o,s,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,r,a=o[0],i=o[1],l=o[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(l)var u=l(n)}for(t&&t(o);c<a.length;c++)r=a[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(817)}));o=n.O(o)})();
//# sourceMappingURL=app.268b7055.js.map